<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>NetworkInstrumentation &#8212; Workspace ONE Intelligence  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../static/adctheme.css" />
    <script data-url_root="../../" id="documentation_options" src="../../static/documentation_options.js"></script>
    <script src="../../static/jquery.js"></script>
    <script src="../../static/underscore.js"></script>
    <script src="../../static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../static/doctools.js"></script>
    <script src="../../static/sphinx_highlight.js"></script>
    <script src="../../static/toggle.js"></script>
    <link rel="shortcut icon" href="../../static/favicon.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Workspace ONE Intelligence  documentation" href="../../index.html" />
      <link rel="up" title="Android SDK" href="../android.html" />
      <link rel="next" title="Network Insights" href="../android_apm.html" />
      <link rel="prev" title="CrashData" href="crash_data.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
  <script type="text/javascript">try{document.domain="vmware.com"}catch(e){};</script>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49786008-1']);
    _gaq.push(['_setDomainName', 'apteligent.com']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_addIgnoredRef', 'apteligent.com']);   // Stops Self Referrals
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  
  <meta name="google-translate-customization" content="f0837c562504ad7b-d669caf2b7375c11-g99fd8de75f76752f-14"></meta>

  </head><body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PK9468"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PK9468');</script>
<!-- End Google Tag Manager -->


  <div id="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
          <div id="searchbox" style="display: none">
              <form class="search" action="../../search.html" method="get">
                <div class="search-wrapper">
                  <input class="prettysearch" type="text" name="q" size="18" />
                  <input type="submit" value="Search" class="searchbutton" />
                </div>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
      <ul><li class="toctree-l1" id="docs-home"><a href="../../index.html">Docs Home</a></li></ul>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ios/ios.html">Apple SDK</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../android.html">Android SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../android.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../android.html#release-notes">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../android.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../android.html#guide">Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../android.html#sdk-references">SDK References</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="crittercism.html">Crittercism</a></li>
<li class="toctree-l3"><a class="reference internal" href="crittercism_config.html">CrittercismConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="crittercism_callback.html">CrittercismCallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="crash_data.html">CrashData</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">NetworkInstrumentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../android.html#features">Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development_platforms/index.html">Development Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/eula_accepted.html">SDK Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/downloads.html">EULA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/checksums.html">SDK Download Checksums</a></li>
</ul>

      <div id="sidebar-toc-clear"></div>
      
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div class="container">
              <div class="row">
                <div class="span12">
                  
  <section id="networkinstrumentation">
<span id="android-network-instrumentation"></span><h1>NetworkInstrumentation<a class="headerlink" href="#networkinstrumentation" title="Permalink to this heading">¶</a></h1>
<p>Import <code class="docutils literal notranslate"><span class="pre">com.crittercism.app</span></code> package to use this class.</p>
<section id="instrumenting-okhttpclient-beta">
<h2>Instrumenting OkHttpClient (Beta)<a class="headerlink" href="#instrumenting-okhttpclient-beta" title="Permalink to this heading">¶</a></h2>
<div class="sdk-section-discussion docutils container">
<p>Workspace ONE Intelligence Android SDK offers users the ability to instrument
OkHttpClients to collect Network Insights data.</p>
</div>
<div class="toggle docutils container">
<div class="header docutils container">
<p>instrumentOkHttpClient(okHttpClient)</p>
</div>
<div class="discussion docutils container">
<blockquote>
<div><p>Enables OkHttpClient instrumentation to collect network insights.
It must be called on the main UI thread after the OkHttpClient is set.
Once the method is invoked, Workspace ONE Intelligence SDK will
automatically log network calls made with the returned instrumented client
to the Network Insights page of the Workspace ONE Intelligence portal.</p>
<p>Here’s an example of how to instrument a client:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">OkHttpClient</span><span class="w"> </span><span class="n">uninstrumentedClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OkHttpClient</span><span class="p">();</span>
<span class="n">OkHttpClient</span><span class="w"> </span><span class="n">instrumentedClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Crittercism</span><span class="p">.</span><span class="na">getNetworkInstrumentation</span><span class="p">().</span><span class="na">instrumentOkHttpClient</span><span class="p">(</span><span class="n">uninstrumentedClient</span><span class="p">);</span>
<span class="c1">// now you can use the instrumented client for network calls (on a different thread)</span>
<span class="n">instrumentedClient</span><span class="p">.</span><span class="na">newCall</span><span class="p">(...).</span><span class="na">execute</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<div class="declaration docutils container">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="n">OkHttpClient</span><span class="w"> </span><span class="nf">instrumentOkHttpClient</span><span class="p">(</span><span class="n">OkHttpClient</span><span class="w"> </span><span class="n">client</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="availability docutils container">
<p>Introduced in Workspace ONE Intelligence Android SDK 5.8.11-beta11.
Requires OkHttp 3.3.0 and above.</p>
</div>
</div>
</section>
</section>


                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
	<script type="text/javascript" charset="utf-8" src="../../static/toc.js"></script>
  </body>
</html>