<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>REST API &#8212; Workspace ONE Intelligence  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/adctheme.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/toggle.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Workspace ONE Intelligence  documentation" href="../../index.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
  <script type="text/javascript">try{document.domain="vmware.com"}catch(e){};</script>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49786008-1']);
    _gaq.push(['_setDomainName', 'apteligent.com']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_addIgnoredRef', 'apteligent.com']);   // Stops Self Referrals
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  
  <meta name="google-translate-customization" content="f0837c562504ad7b-d669caf2b7375c11-g99fd8de75f76752f-14"></meta>

  </head><body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PK9468"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PK9468');</script>
<!-- End Google Tag Manager -->


  <div id="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
          <div id="searchbox" style="display: none">
              <form class="search" action="../../search.html" method="get">
                <div class="search-wrapper">
                  <input class="prettysearch" type="text" name="q" size="18" />
                  <input type="submit" value="Search" class="searchbutton" />
                </div>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
      <ul><li class="toctree-l1" id="docs-home"><a href="../../index.html">Docs Home</a></li></ul>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ios/ios.html">Apple SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../android/android.html">Android SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_platforms/index.html">Development Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/eula_accepted.html">SDK Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/downloads.html">EULA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads/checksums.html">SDK Download Checksums</a></li>
</ul>

      <div id="sidebar-toc-clear"></div>
      
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div class="container">
              <div class="row">
                <div class="span12">
                  
  <script src="../../api/lib/shred.bundle.js"></script>
<script src='../../api/lib/jquery-1.8.0.min.js'></script>
<script src='../../api/lib/jquery.slideto.min.js'></script>
<script src='../../api/lib/jquery.wiggle.min.js'></script>
<script src='../../api/lib/jquery.ba-bbq.min.js'></script>
<script src='../../api/lib/handlebars-1.0.0.js'></script>
<script src='../../api/lib/underscore-min.js'></script>
<script src='../../api/lib/backbone-min.js'></script>
<script src='../../api/lib/swagger.js'></script>
<script src='../../api/lib/highlight.7.3.pack.js'></script>
<script src='../../api/lib/swagger-oauth.js'></script>
<script src='../../api/lib/swagger-ui.min.js'></script>
<script type="text/javascript">
    $(function () {
        window.swaggerUi = new SwaggerUi({
            url: "http://docs.crittercism.com/api/swagger/base.json",
            dom_id: "swagger-ui-container",
            supportedSubmitMethods: ['get', 'post'],
            onComplete: function(swaggerApi, swaggerUi){
                log("Loaded SwaggerUI");

                $('pre code').each(function(i, e) {
                    hljs.highlightBlock(e)
                });
            },
            onFailure: function(data) {
                log("Unable to Load SwaggerUI");
            },
            docExpansion: "none"
        });
        window.swaggerUi.load();
        window.authorizations.add("key", new ApiKeyAuthorization("Authorization", "Bearer fPQbB9AQanBQsabRhQW27HKYfpwgkqsO", "header"));
    });
</script><section id="rest-api">
<span id="api-jp"></span><h1>REST API<a class="headerlink" href="#rest-api" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="id1">
<h2>エンドポイント ドキュメンテーション<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>Crittercism の REST API は、段階的に検出できるように作られています。 <a class="reference external" href="http://docs.crittercism.com/ln/jp/api.html?click=top#!/allYourBase/allYourBase">allYourBase</a> エンドポイントから始めると、クライアントは
使用する API のバージョンを判断し、エンドポイントの発見へと進み、最後にトークンを取得してデータの取得を開始できます。</p>
<blockquote>
<div><div id="swagger-ui-container" class="swagger-ui-wrap"></div></div></blockquote>
</section>
<section id="id2">
<h2>REST API について<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<p>Crittercism REST API では、顧客やパートナーのソフトウェアが Crittercism と対話して Crittercism のデータをプログラムで取得できます。
以下に当社の API を使用するアプリに関して回答できる質問を数例挙げます。</p>
<ul class="simple">
<li><p>使っているユーザーが一番多いのはアプリのどのバージョンですか？</p></li>
<li><p>一番よくクラッシュするのはどのバージョンの OS ですか？</p></li>
<li><p>一番スピードが遅いのはどのサービスですか？</p></li>
<li><p>データ使用に関して自分が使用しているアプリはどの程度重いですか？</p></li>
<li><p>ユーザーが好むデバイスは何ですか？</p></li>
<li><p>毎日最新バージョンのアプリを使っているユーザーは何人いますか？</p></li>
<li><p>自分が使っているすべてのアプリでのクラッシュの割合はどのくらいですか？</p></li>
<li><p>自分が使っているすべてのアプリでの全クラウド サービスのレイテンシはどのくらいですか？</p></li>
<li><p>一番エラーが多いのはどの API エンドポイントですか？</p></li>
</ul>
</section>
<section id="id3">
<h2>はじめに<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<section id="oauth2-id">
<h3>OAuth2 クライアント ID のリクエスト<a class="headerlink" href="#oauth2-id" title="Permalink to this heading">¶</a></h3>
<p>OAuth2 クライアント ID が必要になりますので、 <a class="reference external" href="https://docs.google.com/a/crittercism.com/forms/d/12qN87fn4gFBpTaWEjZ1hcEHhZtw2IOXF-dd_jZCsOyI/viewform">Access Request Form (アクセス リクエスト フォーム)</a> に記入して ID をリクエストしてください。</p>
<p>OAuth2 クライアント ID 例:<code class="docutils literal notranslate"><span class="pre">3XAAtXd3WbozO3M6zV0hVlrdk3FWWNXP</span></code></p>
</section>
<section id="oauth2">
<h3>OAuth2 アクセス トークンの取得<a class="headerlink" href="#oauth2" title="Permalink to this heading">¶</a></h3>
<p>クライアント ID を取得したら、次のステップはアクセス トークンの取得です。Resource Owner Password Credentials Grant (リソース オーナー パスワード認証情報付与) 機能を使用して、ユーザーのユーザー名、パスワードの他、クライアント ID を提供してアクセス トークンを取得してください。リクエストの全詳細やパラメーター定義、エラー コードは RFC 6749 のセクション 4.3 に記載されています。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Crittercism の API は OAuth 2 (RFC 6749) を使用しており、標準 OAuth2 クライアント ライブラリと互換性があります。</p>
</div>
<p>アクセス トークンは長寿命です。現在、唯一対応している付与タイプは <code class="docutils literal notranslate"><span class="pre">password</span></code> です。クライアントはユーザーから直接ユーザーの Crittercism パスワードを取得し、引き換えにトークンを発行します。</p>
<section id="id4">
<h4>OAuth2 トークン リクエスト<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<p>本セクションのエンドポイントは、適切な認証情報が提供されると長寿命のアクセス トークンを発行します。一般には、RFC 6749 のセクション 4.3.2「OAuth 2.0」で規定されている慣例に従います。現在、唯一対応している付与タイプは「password」です。</p>
<p>URI</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>POST  https://developers.crittercism.com/v2/token
</pre></div>
</div>
<p><strong>パラメーター</strong></p>
<ul class="simple">
<li><p>grant_type: OAuth2 の付与タイプです。現在は「password」のみ対応しています。</p></li>
<li><p>username: 顧客のユーザー名 (電子メール アドレス)</p></li>
<li><p>password: 顧客のパスワード</p></li>
</ul>
<p><strong>例</strong></p>
<blockquote>
<div><p>Requesting a token with client id WV3v7ZTaYmqtUOMNvO7oPhLi8RN9zFoo, for <a class="reference external" href="mailto:david&#37;&#52;&#48;crittercism&#46;com">david<span>&#64;</span>crittercism<span>&#46;</span>com</a>:</p>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>https://developers.crittercism.com/v2/token<span class="w"> </span>-u<span class="w"> </span>WV3v7ZTbYmqtUOMNvO7oPhLi8RN9zFoo<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;grant_type=password&amp;username=david@crittercism.com&amp;password=riTiBw28%3DpmFu&#39;</span>

*<span class="w"> </span>Server<span class="w"> </span>auth<span class="w"> </span>using<span class="w"> </span>Basic<span class="w"> </span>with<span class="w"> </span>user<span class="w"> </span><span class="s1">&#39;WV3v7ZTaYmqtUOMNvO7oPhLi8RN9zFoo&#39;</span>
&gt;<span class="w"> </span>POST<span class="w"> </span>/v2/token<span class="w"> </span>HTTP/1.1
&gt;<span class="w"> </span>Authorization:<span class="w"> </span>Basic<span class="w"> </span>V1YzdjdaVGFZbXF0VU9NTnZPN29QaExpOFJOOXpGb286
&gt;<span class="w"> </span>User-Agent:<span class="w"> </span>curl/7.21.4<span class="w"> </span><span class="o">(</span>universal-apple-darwin11.0<span class="o">)</span><span class="w"> </span>libcurl/7.21.4<span class="w"> </span>OpenSSL/0.9.8y<span class="w"> </span>zlib/1.2.5
&gt;<span class="w"> </span>Host:<span class="w"> </span>developers.crittercism.com
&gt;<span class="w"> </span>Accept:<span class="w"> </span>*/*
&gt;<span class="w"> </span>Content-Length:<span class="w"> </span><span class="m">86</span>
&gt;<span class="w"> </span>Content-Type:<span class="w"> </span>application/x-www-form-urlencoded
&gt;
&lt;<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
&lt;<span class="w"> </span>Server:<span class="w"> </span>gunicorn/0.14.3
&lt;<span class="w"> </span>Date:<span class="w"> </span>Thu,<span class="w"> </span><span class="m">06</span><span class="w"> </span>Feb<span class="w"> </span><span class="m">2014</span><span class="w"> </span><span class="m">18</span>:39:48<span class="w"> </span>GMT
&lt;<span class="w"> </span>Connection:<span class="w"> </span>close
&lt;<span class="w"> </span>Cache-Control:<span class="w"> </span>no-cache
&lt;<span class="w"> </span>Pragma:<span class="w"> </span>no-cache
&lt;<span class="w"> </span>Rate-Limit-Limit:<span class="w"> </span><span class="m">20</span>
&lt;<span class="w"> </span>Rate-Limit-Remaining:<span class="w"> </span><span class="m">18</span>
&lt;<span class="w"> </span>Rate-Limit-Reset:<span class="w"> </span><span class="m">46</span>
&lt;<span class="w"> </span>Content-Type:<span class="w"> </span>application/json<span class="p">;</span><span class="nv">charset</span><span class="o">=</span>UTF-8
&lt;<span class="w"> </span>Content-Length:<span class="w"> </span><span class="m">99</span>
&lt;
<span class="o">{</span><span class="s2">&quot;access_token&quot;</span>:<span class="w"> </span><span class="s2">&quot;7oHh1moGJKysza691pa5Ucl4vgr59hGq&quot;</span>,<span class="w"> </span><span class="s2">&quot;token_type&quot;</span>:<span class="w"> </span><span class="s2">&quot;bearer&quot;</span>,<span class="w"> </span><span class="s2">&quot;expires_in&quot;</span>:<span class="w"> </span><span class="m">2592000</span><span class="o">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="id5">
<h2>レート制限<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>API では、クエリ リクエストの数を制限しています。</p>
<p>制限は、「タイム バケット」と呼ばれる時間内に 1 つの OAuth2 クライアントによって何件リクエストが出されているかを制御して指定します。エンドポイントは、HTTP ヘッダーでレート制限情報を返します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>設定</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Rate-Limit-Limit</p></td>
<td><p>クライアントの制限 (呼び出し数/分)</p></td>
</tr>
<tr class="row-odd"><td><p>Rate-Limit-Remaining</p></td>
<td><p>現在のバケットの終了までにレート制限に達することなくクライアントが出すことのできる平均リクエスト速度 (呼び出し数/分)</p></td>
</tr>
<tr class="row-even"><td><p>Rate-Limit-Reset</p></td>
<td><p>現在のバケットの残り秒数</p></td>
</tr>
</tbody>
</table>
<p>以下に例を示します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: Bearer 7oHh1moGJKysza691pa5Ucl4vgr59hGq&#39;</span><span class="w"> </span>https://developers.crittercism.com/v2/apps?attributes<span class="o">=</span>appName,latestVersionString,mau,rating<span class="w"> </span>-v<span class="w"> </span>-v


<span class="o">[</span>...<span class="o">]</span>

&lt;<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK

&lt;<span class="w"> </span>Rate-Limit-Limit:<span class="w"> </span><span class="m">20</span>

&lt;<span class="w"> </span>Rate-Limit-Remaining:<span class="w"> </span><span class="m">18</span>

&lt;<span class="w"> </span>Rate-Limit-Reset:<span class="w"> </span><span class="m">46</span>
</pre></div>
</div>
<p>これは、クライアントによる呼び出しレートがタイム バケット長全体で平均して毎分 20 回に制限されていることを示します。タイム バケットの残り時間では、平均して毎分 18 回の呼び出しを継続でき、タイム バケットは 46 秒でリセットされます。</p>
<p>クライアントが制限を超えると、制限を説明するエラー パケットが送信されます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: Bearer 7oHh1moGJKysza691pa5Ucl4vgr59hGq&#39;</span><span class="w"> </span>https://developers.crittercism.com/v2/apps?attributes<span class="o">=</span>appName,latestVersionString,mau,rating<span class="w"> </span>-v<span class="w"> </span>-v

<span class="o">[</span>...<span class="o">]</span>

&lt;<span class="w"> </span>HTTP/1.1<span class="w"> </span><span class="m">429</span><span class="w"> </span>Too<span class="w"> </span>Many<span class="w"> </span>Requests<span class="w"> </span><span class="o">[</span>...<span class="o">]</span>

<span class="o">{</span><span class="s2">&quot;actual&quot;</span>:<span class="w"> </span><span class="m">25</span>,<span class="w"> </span><span class="s2">&quot;message&quot;</span>:<span class="w"> </span><span class="s2">&quot;API rate limit exceeded&quot;</span>,<span class="w"> </span><span class="s2">&quot;limit&quot;</span>:<span class="w"> </span><span class="m">20</span>,<span class="w"> </span><span class="s2">&quot;reset&quot;</span>:<span class="w"> </span><span class="m">42</span>,<span class="w"> </span><span class="s2">&quot;success&quot;</span>:<span class="w"> </span><span class="m">0</span><span class="o">}</span>
</pre></div>
</div>
<p>この場合、 <code class="docutils literal notranslate"><span class="pre">limit</span></code> は <code class="docutils literal notranslate"><span class="pre">Rate-Limit-Limit</span></code> ヘッダー、 <code class="docutils literal notranslate"><span class="pre">reset</span></code> は <code class="docutils literal notranslate"><span class="pre">Rate-Limit-Reset</span> <span class="pre">ヘッダー</span></code> 、そして <code class="docutils literal notranslate"><span class="pre">actual</span></code> はクライアントが呼び出した毎分の呼び出し数に相当します。</p>
</section>
<section id="api">
<h2>API へのアクセスのリクエスト<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>API へのアクセスを受信されたい場合は、この <a class="reference external" href="https://docs.google.com/a/crittercism.com/forms/d/12qN87fn4gFBpTaWEjZ1hcEHhZtw2IOXF-dd_jZCsOyI/viewform">request form</a> に記入してください。</p>
</div>
</section>
</section>


                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
	<script type="text/javascript" charset="utf-8" src="../../_static/toc.js"></script>
  </body>
</html>