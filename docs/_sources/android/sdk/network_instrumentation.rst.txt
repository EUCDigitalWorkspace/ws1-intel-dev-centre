.. To add a method in this file, please use the following format.
..
.. In general, each method needs to be enclosed in .. container:: toggle
.. In toggle container, we have header (required), discussion (optional),
.. declaration (optional), parameters (optional), retval (optional),
.. availability (optional).
..
.. If a method is deprecated, you can mark the header as deprecated.
.. So you would have .. container :: header deprecated
..
.. .. container:: toggle
..
..    .. container:: header
..
..       <insert method name here>
..
..    .. container:: discussion
..
..       <Insert method summary>
..
..    .. container:: declaration
..
..       <insert method declaration in a code block>
..
..       For iOS, use
..
..       .. example-code::
..
..          .. code-block:: objective-c
..
..             <insert obj-c code>
..
..          .. code-block:: swift
..
..             <insert swift code>
..
..       For other platform, use code block
..
..    .. container:: parameters
..
..       +--------+-------------------------------+
..       | param1 | description                   |
..       +--------+-------------------------------+
..
..    .. container:: retVal
..
..       <discuss return value>
..
..    .. container:: availability
..
..       <discuss when this method is introduced>
..       <discuss when this method is deprecated>
..
..    .. container:: seealso
..
..       <list some useful links here>
..

.. _android_network_instrumentation:

NetworkInstrumentation
======================

Import ``com.crittercism.app`` package to use this class.

Instrumenting OkHttpClient (Beta)
---------------------------------

.. container:: sdk-section-discussion

   Workspace ONE Intelligence Android SDK offers users the ability to instrument
   OkHttpClients to collect Network Insights data.

.. container:: toggle

   .. container:: header

      instrumentOkHttpClient(okHttpClient)

   .. container:: discussion

      Enables OkHttpClient instrumentation to collect network insights.
      It must be called on the main UI thread after the OkHttpClient is set.
      Once the method is invoked, Workspace ONE Intelligence SDK will
      automatically log network calls made with the returned instrumented client
      to the Network Insights page of the Workspace ONE Intelligence portal.

      Here's an example of how to instrument a client:

      .. code-block:: java

          OkHttpClient uninstrumentedClient = new OkHttpClient();
          OkHttpClient instrumentedClient = Crittercism.getNetworkInstrumentation().instrumentOkHttpClient(uninstrumentedClient);
          // now you can use the instrumented client for network calls (on a different thread)
          instrumentedClient.newCall(...).execute();


    .. container:: declaration

       .. code-block:: java

          public OkHttpClient instrumentOkHttpClient(OkHttpClient client)

   .. container:: availability

      Introduced in Workspace ONE Intelligence Android SDK 5.8.11-beta11.
      Requires OkHttp 3.3.0 and above.
